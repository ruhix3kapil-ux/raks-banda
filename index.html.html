<!DOCTYPE html>
<html lang="hi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Happy Raksha Bandhan!</title>
    <style>
        :root {
            --primary-color: #C0392B; /* Deep Red */
            --secondary-color: #2980B9; /* Royal Blue */
            --accent-color: #F1C40F; /* Gold */
            --text-color: #FFFFFF;
            --bg-start: #1A1A2E;
            --bg-end: #16213E;
            --glass-bg: rgba(255, 255, 255, 0.1);
            --glass-border: rgba(255, 255, 255, 0.2);
            --font-family: 'Poppins', sans-serif;
        }

        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Playfair+Display:wght@700&display=swap');

        body {
            margin: 0;
            padding: 20px;
            font-family: var(--font-family);
            background: linear-gradient(135deg, var(--bg-start), var(--bg-end));
            color: var(--text-color);
            overflow-x: hidden;
            text-align: center;
        }

        .container {
            max-width: 500px;
            margin: 0 auto;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: calc(100vh - 40px);
            padding-bottom: 20px; /* Space for ads */
        }

        .header-img {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            object-fit: cover;
            margin-bottom: 20px;
            background: var(--glass-bg);
            border: 2px solid var(--glass-border);
            box-shadow: 0 0 20px rgba(0,0,0,0.2);
        }

        .main-heading {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            color: var(--accent-color);
            animation: fadeInGlow 2s ease-in-out forwards;
            text-shadow: 
                0 0 5px var(--accent-color),
                0 0 10px var(--accent-color),
                0 0 15px #ff5722,
                0 0 20px #ff5722;
        }

        @keyframes fadeInGlow {
            from { opacity: 0; transform: scale(0.9); }
            to { opacity: 1; transform: scale(1); }
        }

        .input-group { width: 100%; margin: 20px 0; }

        .input-field {
            width: calc(100% - 40px);
            padding: 15px 20px;
            margin-bottom: 15px;
            border: 1px solid var(--glass-border);
            border-radius: 15px;
            background: var(--glass-bg);
            color: var(--text-color);
            font-size: 1rem;
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            transition: all 0.3s ease;
        }

        .input-field::placeholder { color: rgba(255, 255, 255, 0.7); }
        .input-field:focus { outline: none; border-color: var(--accent-color); box-shadow: 0 0 15px rgba(241, 196, 15, 0.5); }

        .action-button {
            padding: 15px 30px; border: none; border-radius: 15px;
            background-color: var(--accent-color); color: var(--bg-start);
            font-size: 1.1rem; font-weight: 600; cursor: pointer;
            transition: all 0.3s ease; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        .action-button:hover { transform: scale(1.05); box-shadow: 0 6px 20px rgba(241, 196, 15, 0.4); }

        .card-container { perspective: 1000px; margin-top: 30px; }
        
        #greetingCard {
            width: 100%; max-width: 400px; padding: 30px; border-radius: 20px;
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px 0 rgba(0, 0, 0, 0.37);
            transform: scale(0);
            transition: transform 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            display: none;
        }
        
        #cardMessage { font-size: 1.2rem; line-height: 1.6; color: var(--text-color); margin: 0; }

        .whatsapp-share {
            display: none; margin-top: 20px; padding: 12px 25px; border-radius: 15px;
            background-color: #25D366; color: white; text-decoration: none;
            font-size: 1rem; font-weight: 600; cursor: pointer;
            transition: transform 0.3s ease, background-color 0.3s ease;
            animation: pulse 2s infinite;
        }
        .whatsapp-share:hover { transform: scale(1.05); background-color: #128C7E; }
        @keyframes pulse { 0% { transform: scale(1); } 50% { transform: scale(1.05); } 100% { transform: scale(1); } }

        .audio-control {
            position: fixed; top: 20px; right: 20px; width: 40px; height: 40px;
            background: var(--glass-bg); border: 1px solid var(--glass-border);
            border-radius: 50%; cursor: pointer; display: flex; align-items: center; justify-content: center;
            backdrop-filter: blur(5px); -webkit-backdrop-filter: blur(5px); z-index: 1001;
        }
        .audio-control svg { width: 20px; height: 20px; fill: var(--text-color); }
        
        #particles-js { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: -1; }

        .ad-placeholder {
            border: 2px dashed var(--accent-color);
            border-radius: 10px;
            padding: 10px;
            margin-top: 20px;
            text-align: center;
            min-height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.8rem;
            color: var(--accent-color);
            background: rgba(241, 196, 15, 0.1);
        }

        .ad-container {
            margin-top: 30px;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 20px;
            width: 100%;
        }

        @media (max-width: 480px) { .main-heading { font-size: 2rem; } }
    </style>
</head>
<body>

    <div id="particles-js"></div>

    <div class="container">
        <img src="rakhi.gif" alt="Rakhi GIF" class="header-img">
        <h1 class="main-heading">Happy Raksha Bandhan!</h1>
        <div class="input-group">
            <input type="text" id="senderName" class="input-field" placeholder="आपका नाम">
            <input type="text" id="siblingName" class="input-field" placeholder="आपके भाई/बहन का नाम (वैकल्पिक)">
        </div>
        <button id="generateWish" class="action-button">अपनी राखी की शुभकामनाएँ बनाएँ</button>
        <div class="card-container">
            <div id="greetingCard">
                <p id="cardMessage"></p>
            </div>
        </div>
        <a id="whatsappShareBtn" class="whatsapp-share" href="#" target="_blank">
            <svg aria-hidden="true" focusable="false" data-prefix="fab" data-icon="whatsapp" style="width: 20px; height: 20px; margin-right: 8px; vertical-align: middle;" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path fill="currentColor" d="M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.8 0-67.6-9.5-97.2-27.2l-6.9-4-71.6 18.8 19.2-69.8-4.4-7.2c-18.3-29.7-28-64.3-28-99.9 0-107.6 87.5-195.1 195.1-195.1 53.3 0 103.5 20.7 140.4 57.6 36.9 36.9 57.6 87.1 57.6 140.4-.1 107.6-87.5 195.1-195.2 195.1zm105.7-160.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"></path></svg>
            WhatsApp पर शेयर करें
        </a>
    </div>

    <div class="ad-container">
        <div class="ad-placeholder" style="width: 320px; min-height: 50px;">
            <!-- Ad Script 2 (320x50) -->
            <script type="text/javascript">
                atOptions = { 'key' : '1962ecc93eb6169d72ccfb49088b51fe', 'format' : 'iframe', 'height' : 50, 'width' : 320, 'params' : {} };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/1962ecc93eb6169d72ccfb49088b51fe/invoke.js"></script>
        </div>
        <div class="ad-placeholder" style="width: 160px; min-height: 600px;">
            <!-- Ad Script 1 (160x600) -->
            <script type="text/javascript">
                atOptions = { 'key' : '299dd6892660e9041f86fbf8b3e18991', 'format' : 'iframe', 'height' : 600, 'width' : 160, 'params' : {} };
            </script>
            <script type="text/javascript" src="//www.highperformanceformat.com/299dd6892660e9041f86fbf8b3e18991/invoke.js"></script>
        </div>
    </div>
    
    <div class="audio-control" id="audioControl">
        <svg id="speakerIcon" viewBox="0 0 24 24"><path d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"></path></svg>
        <svg id="muteIcon" viewBox="0 0 24 24" style="display: none;"><path d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z"></path></svg>
    </div>
    
    <audio id="backgroundMusic" src="song.mp3" loop></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const generateWishBtn = document.getElementById('generateWish');
            const greetingCard = document.getElementById('greetingCard');
            const cardMessage = document.getElementById('cardMessage');
            const whatsappShareBtn = document.getElementById('whatsappShareBtn');
            const audio = document.getElementById('backgroundMusic');
            const audioControl = document.getElementById('audioControl');
            const speakerIcon = document.getElementById('speakerIcon');
            const muteIcon = document.getElementById('muteIcon');
            let isMusicPlaying = false;
            let personalizedMessage = '';

            const playMusic = () => {
                if (audio.paused) {
                    audio.play().then(() => {
                        isMusicPlaying = true;
                        speakerIcon.style.display = 'block';
                        muteIcon.style.display = 'none';
                    }).catch(error => { console.log('Audio autoplay was prevented.'); });
                }
            };
            
            document.body.addEventListener('click', playMusic, { once: true });
            
            generateWishBtn.addEventListener('click', () => {
                const senderName = document.getElementById('senderName').value.trim();
                const siblingName = document.getElementById('siblingName').value.trim();

                if (!senderName) { alert('Please enter your name.'); return; }

                if (siblingName) {
                    personalizedMessage = `Dearest ${siblingName}, sending you love and a promise of protection, always. Happy Raksha Bandhan! With love, ${senderName}`;
                } else {
                    personalizedMessage = `Wishing you a very Happy Raksha Bandhan! With love from ${senderName}`;
                }

                cardMessage.textContent = personalizedMessage;
                greetingCard.style.display = 'block';
                setTimeout(() => { greetingCard.style.transform = 'scale(1)'; }, 10);
                whatsappShareBtn.style.display = 'inline-flex';
            });

            whatsappShareBtn.addEventListener('click', (e) => {
                e.preventDefault();
                const webpageUrl = window.location.href;
                const whatsappMessage = encodeURIComponent(`${personalizedMessage}\n\nCreate your own wish here: ${webpageUrl}`);
                const whatsappUrl = `https://wa.me/?text=${whatsappMessage}`;
                window.open(whatsappUrl, '_blank');
            });
            
            audioControl.addEventListener('click', (e) => {
                e.stopPropagation();
                if (isMusicPlaying) {
                    audio.pause();
                    isMusicPlaying = false;
                    speakerIcon.style.display = 'none';
                    muteIcon.style.display = 'block';
                } else {
                    audio.play();
                    isMusicPlaying = true;
                    speakerIcon.style.display = 'block';
                    muteIcon.style.display = 'none';
                }
            });
        });

        particlesJS("particles-js", {
            particles: { number: { value: 80, density: { enable: true, value_area: 800 } }, color: { value: "#F1C40F" }, shape: { type: "circle" }, opacity: { value: 0.5, random: true, anim: { enable: true, speed: 1, opacity_min: 0.1, sync: false } }, size: { value: 3, random: true }, line_linked: { enable: false }, move: { enable: true, speed: 1.5, direction: "none", random: true, straight: false, out_mode: "out" } },
            interactivity: { detect_on: "canvas", events: { onhover: { enable: true, mode: "repulse" }, onclick: { enable: true, mode: "push" }, resize: true }, modes: { repulse: { distance: 100, duration: 0.4 }, push: { particles_nb: 4 } } },
            retina_detect: true
        });
    </script>
</body>
</html>